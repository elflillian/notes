# 指针

C 语言中使用字符指针来处理字符串也很方便。首先需要定义一个基类型为字符型的指针变量。例如：`char *str; `，使用字符指针存储字符串有两种赋值方法：

```
方式一char *pstr= "Welcome"  ;   // 定义指针变量的同时赋初值
方式二char *pstr; pstr = "Welcome";          // 先定义指针变量，后赋值
```

上面两种定义是等效的。首先定义`pstr`是一个字符指针变量，然后把字符串的首地址赋给`pstr`，应写出整个字符串，以便编译系统把该字符串装入常量区连续的一块内存单元。

##### 使用字符串指针变量与字符数组的区别

1. 字符数组是由若干个元素组成，每个数组元素中存放一个字符；而字符指针变量存放的是字符串的首地址（字符串第 1 个字符的地址），而不是把整个字符串`"Welcome"`的所有字符赋值给指针变量，而只是把字符串首字符的地址赋值给了指针变量`pstr`。

2. 对于字符指针变量，可以采用下面方法赋值：

   ```
   char *pstr；pstr = "C Language";
   ```

   等价于

   ```
   char *pstr = "C Language";
   ```

   而对于字符数组的初始化：

   ```
   char  str[14]＝"Ｉlove C！";
   ```

   不能等价于

   ```
   char str[14]；str＝"Ｉlove C！";
   ```

如果希望将字符串`"Ｉlove C！"`直接赋值给字符数组`str`，而不是从键盘输入，需要调用系统的库函数中的字符串拷贝函数`strcpy()`来实现。

还可以用字符指针变量存放一个字符数组的首地址，如下：

```
char  str[14]＝"Ｉlove C！", *p;p = str;
```

请注意字符指针变量既可以存放一个字符串常量的第一个字符的地址，也可存放一个字符数组的首地址。换一种说法是字符指针变量既可以指向一个字符串常量，也可以指向一个字符数组。

只有当字符指针变量指向一个字符数组时，才能通过这个指针变量接收键盘输入的字符串，也就是说**从键盘输入的字符串必须保存在字符数组中**。
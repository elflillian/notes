##### 格式化输入函数 scanf 使用方法

作为 C 程序的格式化输入库函数 ，`scanf()` 的函数声明包含在头文件 <stdio.h> 中，函数的一般形式为：

```c
scanf(<格式说明字符串>,<参数地址表列>);
```

`scanf()` 函数从标准输入设备 （**键盘**） 获取数据赋值给程序变量。其函数形式与格式化输出函数 `printf` 相似。

- < 格式说明字符串 > ， < 参数地址表列 > 均是必要参数；
- < 格式说明字符串 > 由双引号括起来， 内含的 % 格式说明符与 < 参数地址表列 > 一一对应 ， 给出数据输入格式，其具体形式与 `printf` 函数的< 格式说明字符串 >相同；
- < 参数地址表列 > 中应使用取地址运算符 `&` 给出变量在内存的地址，若存在多个参数则以逗号相隔。

下面的代码通过键盘输入数字 “1”，“2” 赋值给变量`a`,`b` 。

```c
int a,b;scanf("%d%d",&a,&b);     // 单目运算符 &： 取地址运算符，获取变量的地址 printf("a的值是：%d，b的值是：%d。",a,b);     // 打印a,b的值 
```

> 注意：参数表列提供的是变量地址`&a`，而不是变量`a`。

此时从键盘输入“`1 2`”之后得到结果：

```c
a的值是：1，b的值是：2。
```

##### 格式化输入函数 scanf 的格式说明符

| 格式说明符 | 输入的数据类型 |
| ---------- | -------------- |
| %d         | 十进制整型数   |
| %f         | 浮点数         |
| %o         | 八进制整型数   |
| %x         | 十六进制整型数 |
| %c         | 一个字符       |
| %s         | 字符串         |

##### 格式化输入函数 scanf 的使用案例

当需要输入一个整数和浮点数， 可以通过以下代码实现：

```c
#include<stdio.h>
int mian()
{
    int n;    
    float a;        
    scanf("%d%f",&n,&a);     // 格式化输入 n 和 a 的值     
    printf("n = %d, a = %f\n", n, a);
}
```

测试输入一：`20 34.43` 输出：

```c
n = 20, a = 34.430000
```

测试输入二：`20      34.43` 输出：

```c
n = 20, a = 34.430000
```

由上面两种测试可以发现多个 **% 格式说明** 紧密排列时， 输入时应以**空格**间隔数值，空格数不限。

当我们将上面代码修改成如下代码时：

```c
#include<stdio.h>
int mian()
{
    int n;    
    float a;        
    scanf("%d %f",&n,&a);     // 这里 %d 和 %f 之间增加一个空格     
    printf("n = %d, a = %f\n", n, a);
}
```

测试输入一：`20 34.43` 输出：

```c
n = 20, a = 34.430000
```

测试输入二：`20      34.43` 输出：

```c
n = 20, a = 34.430000
```

由上两种测试可以发现`scanf`会忽略 **相邻 %** 格式说明中的**空格**和**制表符**。

将原代码再修改成如下代码：

```c
#include<stdio.h>
int mian()
{
    int n;    
    float a;        
    scanf("%d,%f",&n,&a);     // 这里 %d 和 %f 之间增加一个逗号     
    printf("n = %d, a = %f\n", n, a);
}
```

测试输入：`20 34.43` 输出：

```c
n = 20, a = -107374176.000000
```

这里的 `a` 值有明显的错误 ， 因为增加的逗号属于**字符字面值**。这里需要注意的是，`scanf`允许**字符字面值**出现在其格式说明字符串中，但在输入时， 要求必须在对应的位置输入相同的**字符字面值**。 所以我们必须用如下输入方式： 测试输入一：`20,34.43` 输出：

```c
n = 20, a = 34.430000
```

测试输入二：`20,      34.43` 输出：

```c
n = 20, a = 34.430000
```

> 从第二个样例可以发现，当在输入的整数后面紧跟着输入了逗号后，在下一个要输入的浮点数前面（对应代码中逗号后面的`%f`）输入的多个空格会被忽略。 将原代码进一步修改成如下代码：

```c
#include<stdio.h>
int mian()
{
    int n;    
    float a;        
    scanf("n=%d,a=%f",&n,&a);     // 这里增加多个字符字面值     
    printf("n = %d, a = %f\n", n, a);
}
```

测试输入：`n=20,   a=34.43` 输出：

```c
n = 20, a = -107374176.000000
```

这里的 `a` 值有明显的错误，因为输入时**字符字面值**必须与 `scanf` 格式说明字符串严格匹配，不能在**字符字面值**中间插入空格和制表符。 这里应当使用如下输入： 测试输入：`n=20,a=34.43` 输出：

```c
n = 20, a = 34.430000
```